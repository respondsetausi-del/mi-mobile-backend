{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useSignalQueue\", {\n    enumerable: true,\n    get: function () {\n      return useSignalQueue;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  const useSignalQueue = () => {\n    _s();\n    const [queue, setQueue] = (0, _react.useState)([]);\n    const [currentSignal, setCurrentSignal] = (0, _react.useState)(null);\n    const [isDisplaying, setIsDisplaying] = (0, _react.useState)(false);\n    const timerRef = (0, _react.useRef)(null);\n\n    // Add signal to queue\n    const addSignal = signal => {\n      const newSignal = {\n        ...signal,\n        id: `${Date.now()}-${Math.random()}`,\n        timestamp: Date.now(),\n        duration: signal.duration || 30 // Default 30 seconds\n      };\n      console.log('üì• Adding signal to queue:', newSignal);\n      setQueue(prev => [...prev, newSignal]);\n    };\n\n    // Process queue - show next signal\n    (0, _react.useEffect)(() => {\n      if (!isDisplaying && queue.length > 0) {\n        const nextSignal = queue[0];\n        console.log('‚ñ∂Ô∏è Displaying signal:', nextSignal);\n        setCurrentSignal(nextSignal);\n        setIsDisplaying(true);\n\n        // Remove from queue\n        setQueue(prev => prev.slice(1));\n\n        // Set timer for signal duration\n        const duration = nextSignal.duration || 30;\n        timerRef.current = setTimeout(() => {\n          console.log('‚è±Ô∏è Signal duration expired:', duration, 'seconds');\n          setIsDisplaying(false);\n          setCurrentSignal(null);\n        }, duration * 1000);\n      }\n\n      // Cleanup timer on unmount\n      return () => {\n        if (timerRef.current) {\n          clearTimeout(timerRef.current);\n        }\n      };\n    }, [queue, isDisplaying]);\n\n    // Manual close signal\n    const closeCurrentSignal = () => {\n      console.log('üëÜ User manually closed signal');\n      if (timerRef.current) {\n        clearTimeout(timerRef.current);\n      }\n      setIsDisplaying(false);\n      setCurrentSignal(null);\n    };\n\n    // Clear entire queue\n    const clearQueue = () => {\n      console.log('üóëÔ∏è Clearing signal queue');\n      setQueue([]);\n      if (timerRef.current) {\n        clearTimeout(timerRef.current);\n      }\n      setIsDisplaying(false);\n      setCurrentSignal(null);\n    };\n    return {\n      currentSignal,\n      queueLength: queue.length,\n      isDisplaying,\n      addSignal,\n      closeCurrentSignal,\n      clearQueue\n    };\n  };\n  _s(useSignalQueue, \"jaWTbsJdPu/dPYQI6pyXLAWLrt4=\");\n});","lineCount":92,"map":[[8,2,14,0,"Object"],[8,8,14,0],[8,9,14,0,"defineProperty"],[8,23,14,0],[8,24,14,0,"exports"],[8,31,14,0],[9,4,14,0,"enumerable"],[9,14,14,0],[10,4,14,0,"get"],[10,7,14,0],[10,18,14,0,"get"],[10,19,14,0],[11,6,14,0],[11,13,14,0,"useSignalQueue"],[11,27,14,0],[12,4,14,0],[13,2,14,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,14,7],[15,8,14,13,"useSignalQueue"],[15,22,14,27],[15,25,14,30,"useSignalQueue"],[15,26,14,30],[15,31,14,36],[16,4,14,36,"_s"],[16,6,14,36],[17,4,15,2],[17,10,15,8],[17,11,15,9,"queue"],[17,16,15,14],[17,18,15,16,"setQueue"],[17,26,15,24],[17,27,15,25],[17,30,15,28],[17,34,15,28,"useState"],[17,40,15,36],[17,41,15,36,"useState"],[17,49,15,36],[17,51,15,53],[17,53,15,55],[17,54,15,56],[18,4,16,2],[18,10,16,8],[18,11,16,9,"currentSignal"],[18,24,16,22],[18,26,16,24,"setCurrentSignal"],[18,42,16,40],[18,43,16,41],[18,46,16,44],[18,50,16,44,"useState"],[18,56,16,52],[18,57,16,52,"useState"],[18,65,16,52],[18,67,16,74],[18,71,16,78],[18,72,16,79],[19,4,17,2],[19,10,17,8],[19,11,17,9,"isDisplaying"],[19,23,17,21],[19,25,17,23,"setIsDisplaying"],[19,40,17,38],[19,41,17,39],[19,44,17,42],[19,48,17,42,"useState"],[19,54,17,50],[19,55,17,50,"useState"],[19,63,17,50],[19,65,17,51],[19,70,17,56],[19,71,17,57],[20,4,18,2],[20,10,18,8,"timerRef"],[20,18,18,16],[20,21,18,19],[20,25,18,19,"useRef"],[20,31,18,25],[20,32,18,25,"useRef"],[20,38,18,25],[20,40,18,49],[20,44,18,53],[20,45,18,54],[22,4,20,2],[23,4,21,2],[23,10,21,8,"addSignal"],[23,19,21,17],[23,22,21,21,"signal"],[23,28,21,67],[23,32,21,72],[24,6,22,4],[24,12,22,10,"newSignal"],[24,21,22,33],[24,24,22,36],[25,8,23,6],[25,11,23,9,"signal"],[25,17,23,15],[26,8,24,6,"id"],[26,10,24,8],[26,12,24,10],[26,15,24,13,"Date"],[26,19,24,17],[26,20,24,18,"now"],[26,23,24,21],[26,24,24,22],[26,25,24,23],[26,29,24,27,"Math"],[26,33,24,31],[26,34,24,32,"random"],[26,40,24,38],[26,41,24,39],[26,42,24,40],[26,44,24,42],[27,8,25,6,"timestamp"],[27,17,25,15],[27,19,25,17,"Date"],[27,23,25,21],[27,24,25,22,"now"],[27,27,25,25],[27,28,25,26],[27,29,25,27],[28,8,26,6,"duration"],[28,16,26,14],[28,18,26,16,"signal"],[28,24,26,22],[28,25,26,23,"duration"],[28,33,26,31],[28,37,26,35],[28,39,26,37],[28,40,26,39],[29,6,27,4],[29,7,27,5],[30,6,29,4,"console"],[30,13,29,11],[30,14,29,12,"log"],[30,17,29,15],[30,18,29,16],[30,46,29,44],[30,48,29,46,"newSignal"],[30,57,29,55],[30,58,29,56],[31,6,30,4,"setQueue"],[31,14,30,12],[31,15,30,13,"prev"],[31,19,30,17],[31,23,30,21],[31,24,30,22],[31,27,30,25,"prev"],[31,31,30,29],[31,33,30,31,"newSignal"],[31,42,30,40],[31,43,30,41],[31,44,30,42],[32,4,31,2],[32,5,31,3],[34,4,33,2],[35,4,34,2],[35,8,34,2,"useEffect"],[35,14,34,11],[35,15,34,11,"useEffect"],[35,24,34,11],[35,26,34,12],[35,32,34,18],[36,6,35,4],[36,10,35,8],[36,11,35,9,"isDisplaying"],[36,23,35,21],[36,27,35,25,"queue"],[36,32,35,30],[36,33,35,31,"length"],[36,39,35,37],[36,42,35,40],[36,43,35,41],[36,45,35,43],[37,8,36,6],[37,14,36,12,"nextSignal"],[37,24,36,22],[37,27,36,25,"queue"],[37,32,36,30],[37,33,36,31],[37,34,36,32],[37,35,36,33],[38,8,37,6,"console"],[38,15,37,13],[38,16,37,14,"log"],[38,19,37,17],[38,20,37,18],[38,43,37,41],[38,45,37,43,"nextSignal"],[38,55,37,53],[38,56,37,54],[39,8,39,6,"setCurrentSignal"],[39,24,39,22],[39,25,39,23,"nextSignal"],[39,35,39,33],[39,36,39,34],[40,8,40,6,"setIsDisplaying"],[40,23,40,21],[40,24,40,22],[40,28,40,26],[40,29,40,27],[42,8,42,6],[43,8,43,6,"setQueue"],[43,16,43,14],[43,17,43,15,"prev"],[43,21,43,19],[43,25,43,23,"prev"],[43,29,43,27],[43,30,43,28,"slice"],[43,35,43,33],[43,36,43,34],[43,37,43,35],[43,38,43,36],[43,39,43,37],[45,8,45,6],[46,8,46,6],[46,14,46,12,"duration"],[46,22,46,20],[46,25,46,23,"nextSignal"],[46,35,46,33],[46,36,46,34,"duration"],[46,44,46,42],[46,48,46,46],[46,50,46,48],[47,8,47,6,"timerRef"],[47,16,47,14],[47,17,47,15,"current"],[47,24,47,22],[47,27,47,25,"setTimeout"],[47,37,47,35],[47,38,47,36],[47,44,47,42],[48,10,48,8,"console"],[48,17,48,15],[48,18,48,16,"log"],[48,21,48,19],[48,22,48,20],[48,51,48,49],[48,53,48,51,"duration"],[48,61,48,59],[48,63,48,61],[48,72,48,70],[48,73,48,71],[49,10,49,8,"setIsDisplaying"],[49,25,49,23],[49,26,49,24],[49,31,49,29],[49,32,49,30],[50,10,50,8,"setCurrentSignal"],[50,26,50,24],[50,27,50,25],[50,31,50,29],[50,32,50,30],[51,8,51,6],[51,9,51,7],[51,11,51,9,"duration"],[51,19,51,17],[51,22,51,20],[51,26,51,24],[51,27,51,25],[52,6,52,4],[54,6,54,4],[55,6,55,4],[55,13,55,11],[55,19,55,17],[56,8,56,6],[56,12,56,10,"timerRef"],[56,20,56,18],[56,21,56,19,"current"],[56,28,56,26],[56,30,56,28],[57,10,57,8,"clearTimeout"],[57,22,57,20],[57,23,57,21,"timerRef"],[57,31,57,29],[57,32,57,30,"current"],[57,39,57,37],[57,40,57,38],[58,8,58,6],[59,6,59,4],[59,7,59,5],[60,4,60,2],[60,5,60,3],[60,7,60,5],[60,8,60,6,"queue"],[60,13,60,11],[60,15,60,13,"isDisplaying"],[60,27,60,25],[60,28,60,26],[60,29,60,27],[62,4,62,2],[63,4,63,2],[63,10,63,8,"closeCurrentSignal"],[63,28,63,26],[63,31,63,29,"closeCurrentSignal"],[63,32,63,29],[63,37,63,35],[64,6,64,4,"console"],[64,13,64,11],[64,14,64,12,"log"],[64,17,64,15],[64,18,64,16],[64,50,64,48],[64,51,64,49],[65,6,65,4],[65,10,65,8,"timerRef"],[65,18,65,16],[65,19,65,17,"current"],[65,26,65,24],[65,28,65,26],[66,8,66,6,"clearTimeout"],[66,20,66,18],[66,21,66,19,"timerRef"],[66,29,66,27],[66,30,66,28,"current"],[66,37,66,35],[66,38,66,36],[67,6,67,4],[68,6,68,4,"setIsDisplaying"],[68,21,68,19],[68,22,68,20],[68,27,68,25],[68,28,68,26],[69,6,69,4,"setCurrentSignal"],[69,22,69,20],[69,23,69,21],[69,27,69,25],[69,28,69,26],[70,4,70,2],[70,5,70,3],[72,4,72,2],[73,4,73,2],[73,10,73,8,"clearQueue"],[73,20,73,18],[73,23,73,21,"clearQueue"],[73,24,73,21],[73,29,73,27],[74,6,74,4,"console"],[74,13,74,11],[74,14,74,12,"log"],[74,17,74,15],[74,18,74,16],[74,45,74,43],[74,46,74,44],[75,6,75,4,"setQueue"],[75,14,75,12],[75,15,75,13],[75,17,75,15],[75,18,75,16],[76,6,76,4],[76,10,76,8,"timerRef"],[76,18,76,16],[76,19,76,17,"current"],[76,26,76,24],[76,28,76,26],[77,8,77,6,"clearTimeout"],[77,20,77,18],[77,21,77,19,"timerRef"],[77,29,77,27],[77,30,77,28,"current"],[77,37,77,35],[77,38,77,36],[78,6,78,4],[79,6,79,4,"setIsDisplaying"],[79,21,79,19],[79,22,79,20],[79,27,79,25],[79,28,79,26],[80,6,80,4,"setCurrentSignal"],[80,22,80,20],[80,23,80,21],[80,27,80,25],[80,28,80,26],[81,4,81,2],[81,5,81,3],[82,4,83,2],[82,11,83,9],[83,6,84,4,"currentSignal"],[83,19,84,17],[84,6,85,4,"queueLength"],[84,17,85,15],[84,19,85,17,"queue"],[84,24,85,22],[84,25,85,23,"length"],[84,31,85,29],[85,6,86,4,"isDisplaying"],[85,18,86,16],[86,6,87,4,"addSignal"],[86,15,87,13],[87,6,88,4,"closeCurrentSignal"],[87,24,88,22],[88,6,89,4,"clearQueue"],[89,4,90,2],[89,5,90,3],[90,2,91,0],[90,3,91,1],[91,2,91,2,"_s"],[91,4,91,2],[91,5,14,13,"useSignalQueue"],[91,19,14,27],[92,0,14,27],[92,3]],"functionMap":{"names":["<global>","useSignalQueue","addSignal","setQueue$argument_0","useEffect$argument_0","setTimeout$argument_0","<anonymous>","closeCurrentSignal","clearQueue"],"mappings":"AAA;8BCa;oBCO;aCS,4BD;GDC;YGG;eDS,qBC;oCCI;ODI;WEI;KFI;GHC;6BMG;GNO;qBOG;GPQ;CDU"},"hasCjsExports":false},"type":"js/module"}]}
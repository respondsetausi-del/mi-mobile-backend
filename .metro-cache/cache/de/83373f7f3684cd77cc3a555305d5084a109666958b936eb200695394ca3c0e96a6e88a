{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":37,"index":170}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":171},"end":{"line":4,"column":69,"index":240}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":39,"index":280}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/AccountStatusGuard.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AccountStatusGuard;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[3], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[5], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[6], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || '';\n  function AccountStatusGuard({\n    children\n  }) {\n    _s();\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [isValid, setIsValid] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      checkAccountStatus();\n    }, []);\n    const checkAccountStatus = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('authToken');\n        if (!token) {\n          _expoRouter.router.replace('/');\n          return;\n        }\n        const response = await fetch(`${API_URL}/api/user/profile`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (!response.ok) {\n          await AsyncStorage.default.removeItem('authToken');\n          _expoRouter.router.replace('/');\n          return;\n        }\n        const data = await response.json();\n        if (data.status !== 'active' || data.payment_status !== 'paid') {\n          _expoRouter.router.replace('/waiting-approval');\n          return;\n        }\n        setIsValid(true);\n      } catch (error) {\n        console.error('Error checking account status:', error);\n        _expoRouter.router.replace('/');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (loading) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#00D9FF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this);\n    }\n    if (!isValid) {\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactJsxDevRuntime.Fragment, {\n      children: children\n    }, void 0, false);\n  }\n  _s(AccountStatusGuard, \"G1QgtbiJTX401EtH9gH4F1Ex7aI=\");\n  _c = AccountStatusGuard;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#000'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AccountStatusGuard\");\n});","lineCount":109,"map":[[14,2,13,15,"Object"],[14,8,13,15],[14,9,13,15,"defineProperty"],[14,23,13,15],[14,24,13,15,"exports"],[14,31,13,15],[15,4,13,15,"enumerable"],[15,14,13,15],[16,4,13,15,"get"],[16,7,13,15],[16,18,13,15,"get"],[16,19,13,15],[17,6,13,15],[17,13,13,15,"AccountStatusGuard"],[17,31,13,15],[18,4,13,15],[19,2,13,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,51],[21,6,1,51,"_reactNativeWebDistExportsView"],[21,36,1,51],[21,39,1,51,"require"],[21,46,1,51],[21,47,1,51,"_dependencyMap"],[21,61,1,51],[22,2,1,51],[22,6,1,51,"View"],[22,10,1,51],[22,13,1,51,"_interopDefault"],[22,28,1,51],[22,29,1,51,"_reactNativeWebDistExportsView"],[22,59,1,51],[23,2,1,51],[23,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[23,42,1,51],[23,45,1,51,"require"],[23,52,1,51],[23,53,1,51,"_dependencyMap"],[23,67,1,51],[24,2,1,51],[24,6,1,51,"StyleSheet"],[24,16,1,51],[24,19,1,51,"_interopDefault"],[24,34,1,51],[24,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[24,71,1,51],[25,2,1,51],[25,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[25,49,1,51],[25,52,1,51,"require"],[25,59,1,51],[25,60,1,51,"_dependencyMap"],[25,74,1,51],[26,2,1,51],[26,6,1,51,"ActivityIndicator"],[26,23,1,51],[26,26,1,51,"_interopDefault"],[26,41,1,51],[26,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[26,85,1,51],[27,2,3,0],[27,6,3,0,"_expoRouter"],[27,17,3,0],[27,20,3,0,"require"],[27,27,3,0],[27,28,3,0,"_dependencyMap"],[27,42,3,0],[28,2,4,0],[28,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,4,0],[28,45,4,0,"require"],[28,52,4,0],[28,53,4,0,"_dependencyMap"],[28,67,4,0],[29,2,4,0],[29,6,4,0,"AsyncStorage"],[29,18,4,0],[29,21,4,0,"_interopDefault"],[29,36,4,0],[29,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,4,0],[30,2,5,0],[30,6,5,0,"_expoConstants"],[30,20,5,0],[30,23,5,0,"require"],[30,30,5,0],[30,31,5,0,"_dependencyMap"],[30,45,5,0],[31,2,5,0],[31,6,5,0,"Constants"],[31,15,5,0],[31,18,5,0,"_interopDefault"],[31,33,5,0],[31,34,5,0,"_expoConstants"],[31,48,5,0],[32,2,5,39],[32,6,5,39,"_reactJsxDevRuntime"],[32,25,5,39],[32,28,5,39,"require"],[32,35,5,39],[32,36,5,39,"_dependencyMap"],[32,50,5,39],[33,2,7,0],[33,8,7,6,"API_URL"],[33,15,7,13],[33,18,7,16,"Constants"],[33,27,7,25],[33,28,7,25,"default"],[33,35,7,25],[33,36,7,26,"expoConfig"],[33,46,7,36],[33,48,7,38,"extra"],[33,53,7,43],[33,55,7,45,"EXPO_PUBLIC_BACKEND_URL"],[33,78,7,68],[33,82,7,72],[33,84,7,74],[34,2,13,15],[34,11,13,24,"AccountStatusGuard"],[34,29,13,42,"AccountStatusGuard"],[34,30,13,43],[35,4,13,45,"children"],[36,2,13,79],[36,3,13,80],[36,5,13,82],[37,4,13,82,"_s"],[37,6,13,82],[38,4,14,2],[38,10,14,8],[38,11,14,9,"loading"],[38,18,14,16],[38,20,14,18,"setLoading"],[38,30,14,28],[38,31,14,29],[38,34,14,32],[38,38,14,32,"useState"],[38,44,14,40],[38,45,14,40,"useState"],[38,53,14,40],[38,55,14,41],[38,59,14,45],[38,60,14,46],[39,4,15,2],[39,10,15,8],[39,11,15,9,"isValid"],[39,18,15,16],[39,20,15,18,"setIsValid"],[39,30,15,28],[39,31,15,29],[39,34,15,32],[39,38,15,32,"useState"],[39,44,15,40],[39,45,15,40,"useState"],[39,53,15,40],[39,55,15,41],[39,60,15,46],[39,61,15,47],[40,4,17,2],[40,8,17,2,"useEffect"],[40,14,17,11],[40,15,17,11,"useEffect"],[40,24,17,11],[40,26,17,12],[40,32,17,18],[41,6,18,4,"checkAccountStatus"],[41,24,18,22],[41,25,18,23],[41,26,18,24],[42,4,19,2],[42,5,19,3],[42,7,19,5],[42,9,19,7],[42,10,19,8],[43,4,21,2],[43,10,21,8,"checkAccountStatus"],[43,28,21,26],[43,31,21,29],[43,37,21,29,"checkAccountStatus"],[43,38,21,29],[43,43,21,41],[44,6,22,4],[44,10,22,8],[45,8,23,6],[45,14,23,12,"token"],[45,19,23,17],[45,22,23,20],[45,28,23,26,"AsyncStorage"],[45,40,23,38],[45,41,23,38,"default"],[45,48,23,38],[45,49,23,39,"getItem"],[45,56,23,46],[45,57,23,47],[45,68,23,58],[45,69,23,59],[46,8,25,6],[46,12,25,10],[46,13,25,11,"token"],[46,18,25,16],[46,20,25,18],[47,10,26,8,"router"],[47,21,26,14],[47,22,26,14,"router"],[47,28,26,14],[47,29,26,15,"replace"],[47,36,26,22],[47,37,26,23],[47,40,26,26],[47,41,26,27],[48,10,27,8],[49,8,28,6],[50,8,30,6],[50,14,30,12,"response"],[50,22,30,20],[50,25,30,23],[50,31,30,29,"fetch"],[50,36,30,34],[50,37,30,35],[50,40,30,38,"API_URL"],[50,47,30,45],[50,66,30,64],[50,68,30,66],[51,10,31,8,"headers"],[51,17,31,15],[51,19,31,17],[52,12,32,10],[52,27,32,25],[52,29,32,27],[52,39,32,37,"token"],[52,44,32,42],[53,10,33,8],[54,8,34,6],[54,9,34,7],[54,10,34,8],[55,8,36,6],[55,12,36,10],[55,13,36,11,"response"],[55,21,36,19],[55,22,36,20,"ok"],[55,24,36,22],[55,26,36,24],[56,10,37,8],[56,16,37,14,"AsyncStorage"],[56,28,37,26],[56,29,37,26,"default"],[56,36,37,26],[56,37,37,27,"removeItem"],[56,47,37,37],[56,48,37,38],[56,59,37,49],[56,60,37,50],[57,10,38,8,"router"],[57,21,38,14],[57,22,38,14,"router"],[57,28,38,14],[57,29,38,15,"replace"],[57,36,38,22],[57,37,38,23],[57,40,38,26],[57,41,38,27],[58,10,39,8],[59,8,40,6],[60,8,42,6],[60,14,42,12,"data"],[60,18,42,16],[60,21,42,19],[60,27,42,25,"response"],[60,35,42,33],[60,36,42,34,"json"],[60,40,42,38],[60,41,42,39],[60,42,42,40],[61,8,44,6],[61,12,44,10,"data"],[61,16,44,14],[61,17,44,15,"status"],[61,23,44,21],[61,28,44,26],[61,36,44,34],[61,40,44,38,"data"],[61,44,44,42],[61,45,44,43,"payment_status"],[61,59,44,57],[61,64,44,62],[61,70,44,68],[61,72,44,70],[62,10,45,8,"router"],[62,21,45,14],[62,22,45,14,"router"],[62,28,45,14],[62,29,45,15,"replace"],[62,36,45,22],[62,37,45,23],[62,56,45,42],[62,57,45,43],[63,10,46,8],[64,8,47,6],[65,8,49,6,"setIsValid"],[65,18,49,16],[65,19,49,17],[65,23,49,21],[65,24,49,22],[66,6,50,4],[66,7,50,5],[66,8,50,6],[66,15,50,13,"error"],[66,20,50,18],[66,22,50,20],[67,8,51,6,"console"],[67,15,51,13],[67,16,51,14,"error"],[67,21,51,19],[67,22,51,20],[67,54,51,52],[67,56,51,54,"error"],[67,61,51,59],[67,62,51,60],[68,8,52,6,"router"],[68,19,52,12],[68,20,52,12,"router"],[68,26,52,12],[68,27,52,13,"replace"],[68,34,52,20],[68,35,52,21],[68,38,52,24],[68,39,52,25],[69,6,53,4],[69,7,53,5],[69,16,53,14],[70,8,54,6,"setLoading"],[70,18,54,16],[70,19,54,17],[70,24,54,22],[70,25,54,23],[71,6,55,4],[72,4,56,2],[72,5,56,3],[73,4,58,2],[73,8,58,6,"loading"],[73,15,58,13],[73,17,58,15],[74,6,59,4],[74,26,60,6],[74,30,60,6,"_reactJsxDevRuntime"],[74,49,60,6],[74,50,60,6,"jsxDEV"],[74,56,60,6],[74,58,60,7,"View"],[74,62,60,11],[74,63,60,11,"default"],[74,70,60,11],[75,8,60,12,"style"],[75,13,60,17],[75,15,60,19,"styles"],[75,21,60,25],[75,22,60,26,"container"],[75,31,60,36],[76,8,60,36,"children"],[76,16,60,36],[76,31,61,8],[76,35,61,8,"_reactJsxDevRuntime"],[76,54,61,8],[76,55,61,8,"jsxDEV"],[76,61,61,8],[76,63,61,9,"ActivityIndicator"],[76,80,61,26],[76,81,61,26,"default"],[76,88,61,26],[77,10,61,27,"size"],[77,14,61,31],[77,16,61,32],[77,23,61,39],[78,10,61,40,"color"],[78,15,61,45],[78,17,61,46],[79,8,61,55],[80,10,61,55,"fileName"],[80,18,61,55],[80,20,61,55,"_jsxFileName"],[80,32,61,55],[81,10,61,55,"lineNumber"],[81,20,61,55],[82,10,61,55,"columnNumber"],[82,22,61,55],[83,8,61,55],[83,15,61,57],[84,6,61,58],[85,8,61,58,"fileName"],[85,16,61,58],[85,18,61,58,"_jsxFileName"],[85,30,61,58],[86,8,61,58,"lineNumber"],[86,18,61,58],[87,8,61,58,"columnNumber"],[87,20,61,58],[88,6,61,58],[88,13,62,12],[88,14,62,13],[89,4,64,2],[90,4,66,2],[90,8,66,6],[90,9,66,7,"isValid"],[90,16,66,14],[90,18,66,16],[91,6,67,4],[91,13,67,11],[91,17,67,15],[92,4,68,2],[93,4,70,2],[93,24,70,9],[93,28,70,9,"_reactJsxDevRuntime"],[93,47,70,9],[93,48,70,9,"jsxDEV"],[93,54,70,9],[93,56,70,9,"_reactJsxDevRuntime"],[93,75,70,9],[93,76,70,9,"Fragment"],[93,84,70,9],[94,6,70,9,"children"],[94,14,70,9],[94,16,70,12,"children"],[95,4,70,20],[95,20,70,23],[95,21,70,24],[96,2,71,0],[97,2,71,1,"_s"],[97,4,71,1],[97,5,13,24,"AccountStatusGuard"],[97,23,13,42],[98,2,13,42,"_c"],[98,4,13,42],[98,7,13,24,"AccountStatusGuard"],[98,25,13,42],[99,2,73,0],[99,8,73,6,"styles"],[99,14,73,12],[99,17,73,15,"StyleSheet"],[99,27,73,25],[99,28,73,25,"default"],[99,35,73,25],[99,36,73,26,"create"],[99,42,73,32],[99,43,73,33],[100,4,74,2,"container"],[100,13,74,11],[100,15,74,13],[101,6,75,4,"flex"],[101,10,75,8],[101,12,75,10],[101,13,75,11],[102,6,76,4,"justifyContent"],[102,20,76,18],[102,22,76,20],[102,30,76,28],[103,6,77,4,"alignItems"],[103,16,77,14],[103,18,77,16],[103,26,77,24],[104,6,78,4,"backgroundColor"],[104,21,78,19],[104,23,78,21],[105,4,79,2],[106,2,80,0],[106,3,80,1],[106,4,80,2],[107,2,80,3],[107,6,80,3,"_c"],[107,8,80,3],[108,2,80,3,"$RefreshReg$"],[108,14,80,3],[108,15,80,3,"_c"],[108,17,80,3],[109,0,80,3],[109,3]],"functionMap":{"names":["<global>","AccountStatusGuard","useEffect$argument_0","checkAccountStatus"],"mappings":"AAA;eCY;YCI;GDE;6BEE;GFmC;CDe"},"hasCjsExports":false},"type":"js/module"}]}
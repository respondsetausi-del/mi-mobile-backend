{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":37,"index":170}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":171},"end":{"line":4,"column":69,"index":240}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":39,"index":280}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/AccountStatusGuard.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AccountStatusGuard;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[3], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[5], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[6], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || '';\n  function AccountStatusGuard({\n    children\n  }) {\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [isValid, setIsValid] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      checkAccountStatus();\n    }, []);\n    const checkAccountStatus = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('authToken');\n        if (!token) {\n          _expoRouter.router.replace('/');\n          return;\n        }\n        const response = await fetch(`${API_URL}/api/user/profile`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (!response.ok) {\n          await AsyncStorage.default.removeItem('authToken');\n          _expoRouter.router.replace('/');\n          return;\n        }\n        const data = await response.json();\n        if (data.status !== 'active' || data.payment_status !== 'paid') {\n          _expoRouter.router.replace('/waiting-approval');\n          return;\n        }\n        setIsValid(true);\n      } catch (error) {\n        console.error('Error checking account status:', error);\n        _expoRouter.router.replace('/');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (loading) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#00D9FF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this);\n    }\n    if (!isValid) {\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactJsxDevRuntime.Fragment, {\n      children: children\n    }, void 0, false);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#000'\n    }\n  });\n});","lineCount":103,"map":[[13,2,13,15,"Object"],[13,8,13,15],[13,9,13,15,"defineProperty"],[13,23,13,15],[13,24,13,15,"exports"],[13,31,13,15],[14,4,13,15,"enumerable"],[14,14,13,15],[15,4,13,15,"get"],[15,7,13,15],[15,18,13,15,"get"],[15,19,13,15],[16,6,13,15],[16,13,13,15,"AccountStatusGuard"],[16,31,13,15],[17,4,13,15],[18,2,13,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,51],[20,6,1,51,"_reactNativeWebDistExportsView"],[20,36,1,51],[20,39,1,51,"require"],[20,46,1,51],[20,47,1,51,"_dependencyMap"],[20,61,1,51],[21,2,1,51],[21,6,1,51,"View"],[21,10,1,51],[21,13,1,51,"_interopDefault"],[21,28,1,51],[21,29,1,51,"_reactNativeWebDistExportsView"],[21,59,1,51],[22,2,1,51],[22,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[22,42,1,51],[22,45,1,51,"require"],[22,52,1,51],[22,53,1,51,"_dependencyMap"],[22,67,1,51],[23,2,1,51],[23,6,1,51,"StyleSheet"],[23,16,1,51],[23,19,1,51,"_interopDefault"],[23,34,1,51],[23,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[23,71,1,51],[24,2,1,51],[24,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[24,49,1,51],[24,52,1,51,"require"],[24,59,1,51],[24,60,1,51,"_dependencyMap"],[24,74,1,51],[25,2,1,51],[25,6,1,51,"ActivityIndicator"],[25,23,1,51],[25,26,1,51,"_interopDefault"],[25,41,1,51],[25,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[25,85,1,51],[26,2,3,0],[26,6,3,0,"_expoRouter"],[26,17,3,0],[26,20,3,0,"require"],[26,27,3,0],[26,28,3,0,"_dependencyMap"],[26,42,3,0],[27,2,4,0],[27,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[27,42,4,0],[27,45,4,0,"require"],[27,52,4,0],[27,53,4,0,"_dependencyMap"],[27,67,4,0],[28,2,4,0],[28,6,4,0,"AsyncStorage"],[28,18,4,0],[28,21,4,0,"_interopDefault"],[28,36,4,0],[28,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[28,73,4,0],[29,2,5,0],[29,6,5,0,"_expoConstants"],[29,20,5,0],[29,23,5,0,"require"],[29,30,5,0],[29,31,5,0,"_dependencyMap"],[29,45,5,0],[30,2,5,0],[30,6,5,0,"Constants"],[30,15,5,0],[30,18,5,0,"_interopDefault"],[30,33,5,0],[30,34,5,0,"_expoConstants"],[30,48,5,0],[31,2,5,39],[31,6,5,39,"_reactJsxDevRuntime"],[31,25,5,39],[31,28,5,39,"require"],[31,35,5,39],[31,36,5,39,"_dependencyMap"],[31,50,5,39],[32,2,7,0],[32,8,7,6,"API_URL"],[32,15,7,13],[32,18,7,16,"Constants"],[32,27,7,25],[32,28,7,25,"default"],[32,35,7,25],[32,36,7,26,"expoConfig"],[32,46,7,36],[32,48,7,38,"extra"],[32,53,7,43],[32,55,7,45,"EXPO_PUBLIC_BACKEND_URL"],[32,78,7,68],[32,82,7,72],[32,84,7,74],[33,2,13,15],[33,11,13,24,"AccountStatusGuard"],[33,29,13,42,"AccountStatusGuard"],[33,30,13,43],[34,4,13,45,"children"],[35,2,13,79],[35,3,13,80],[35,5,13,82],[36,4,14,2],[36,10,14,8],[36,11,14,9,"loading"],[36,18,14,16],[36,20,14,18,"setLoading"],[36,30,14,28],[36,31,14,29],[36,34,14,32],[36,38,14,32,"useState"],[36,44,14,40],[36,45,14,40,"useState"],[36,53,14,40],[36,55,14,41],[36,59,14,45],[36,60,14,46],[37,4,15,2],[37,10,15,8],[37,11,15,9,"isValid"],[37,18,15,16],[37,20,15,18,"setIsValid"],[37,30,15,28],[37,31,15,29],[37,34,15,32],[37,38,15,32,"useState"],[37,44,15,40],[37,45,15,40,"useState"],[37,53,15,40],[37,55,15,41],[37,60,15,46],[37,61,15,47],[38,4,17,2],[38,8,17,2,"useEffect"],[38,14,17,11],[38,15,17,11,"useEffect"],[38,24,17,11],[38,26,17,12],[38,32,17,18],[39,6,18,4,"checkAccountStatus"],[39,24,18,22],[39,25,18,23],[39,26,18,24],[40,4,19,2],[40,5,19,3],[40,7,19,5],[40,9,19,7],[40,10,19,8],[41,4,21,2],[41,10,21,8,"checkAccountStatus"],[41,28,21,26],[41,31,21,29],[41,37,21,29,"checkAccountStatus"],[41,38,21,29],[41,43,21,41],[42,6,22,4],[42,10,22,8],[43,8,23,6],[43,14,23,12,"token"],[43,19,23,17],[43,22,23,20],[43,28,23,26,"AsyncStorage"],[43,40,23,38],[43,41,23,38,"default"],[43,48,23,38],[43,49,23,39,"getItem"],[43,56,23,46],[43,57,23,47],[43,68,23,58],[43,69,23,59],[44,8,25,6],[44,12,25,10],[44,13,25,11,"token"],[44,18,25,16],[44,20,25,18],[45,10,26,8,"router"],[45,21,26,14],[45,22,26,14,"router"],[45,28,26,14],[45,29,26,15,"replace"],[45,36,26,22],[45,37,26,23],[45,40,26,26],[45,41,26,27],[46,10,27,8],[47,8,28,6],[48,8,30,6],[48,14,30,12,"response"],[48,22,30,20],[48,25,30,23],[48,31,30,29,"fetch"],[48,36,30,34],[48,37,30,35],[48,40,30,38,"API_URL"],[48,47,30,45],[48,66,30,64],[48,68,30,66],[49,10,31,8,"headers"],[49,17,31,15],[49,19,31,17],[50,12,32,10],[50,27,32,25],[50,29,32,27],[50,39,32,37,"token"],[50,44,32,42],[51,10,33,8],[52,8,34,6],[52,9,34,7],[52,10,34,8],[53,8,36,6],[53,12,36,10],[53,13,36,11,"response"],[53,21,36,19],[53,22,36,20,"ok"],[53,24,36,22],[53,26,36,24],[54,10,37,8],[54,16,37,14,"AsyncStorage"],[54,28,37,26],[54,29,37,26,"default"],[54,36,37,26],[54,37,37,27,"removeItem"],[54,47,37,37],[54,48,37,38],[54,59,37,49],[54,60,37,50],[55,10,38,8,"router"],[55,21,38,14],[55,22,38,14,"router"],[55,28,38,14],[55,29,38,15,"replace"],[55,36,38,22],[55,37,38,23],[55,40,38,26],[55,41,38,27],[56,10,39,8],[57,8,40,6],[58,8,42,6],[58,14,42,12,"data"],[58,18,42,16],[58,21,42,19],[58,27,42,25,"response"],[58,35,42,33],[58,36,42,34,"json"],[58,40,42,38],[58,41,42,39],[58,42,42,40],[59,8,44,6],[59,12,44,10,"data"],[59,16,44,14],[59,17,44,15,"status"],[59,23,44,21],[59,28,44,26],[59,36,44,34],[59,40,44,38,"data"],[59,44,44,42],[59,45,44,43,"payment_status"],[59,59,44,57],[59,64,44,62],[59,70,44,68],[59,72,44,70],[60,10,45,8,"router"],[60,21,45,14],[60,22,45,14,"router"],[60,28,45,14],[60,29,45,15,"replace"],[60,36,45,22],[60,37,45,23],[60,56,45,42],[60,57,45,43],[61,10,46,8],[62,8,47,6],[63,8,49,6,"setIsValid"],[63,18,49,16],[63,19,49,17],[63,23,49,21],[63,24,49,22],[64,6,50,4],[64,7,50,5],[64,8,50,6],[64,15,50,13,"error"],[64,20,50,18],[64,22,50,20],[65,8,51,6,"console"],[65,15,51,13],[65,16,51,14,"error"],[65,21,51,19],[65,22,51,20],[65,54,51,52],[65,56,51,54,"error"],[65,61,51,59],[65,62,51,60],[66,8,52,6,"router"],[66,19,52,12],[66,20,52,12,"router"],[66,26,52,12],[66,27,52,13,"replace"],[66,34,52,20],[66,35,52,21],[66,38,52,24],[66,39,52,25],[67,6,53,4],[67,7,53,5],[67,16,53,14],[68,8,54,6,"setLoading"],[68,18,54,16],[68,19,54,17],[68,24,54,22],[68,25,54,23],[69,6,55,4],[70,4,56,2],[70,5,56,3],[71,4,58,2],[71,8,58,6,"loading"],[71,15,58,13],[71,17,58,15],[72,6,59,4],[72,26,60,6],[72,30,60,6,"_reactJsxDevRuntime"],[72,49,60,6],[72,50,60,6,"jsxDEV"],[72,56,60,6],[72,58,60,7,"View"],[72,62,60,11],[72,63,60,11,"default"],[72,70,60,11],[73,8,60,12,"style"],[73,13,60,17],[73,15,60,19,"styles"],[73,21,60,25],[73,22,60,26,"container"],[73,31,60,36],[74,8,60,36,"children"],[74,16,60,36],[74,31,61,8],[74,35,61,8,"_reactJsxDevRuntime"],[74,54,61,8],[74,55,61,8,"jsxDEV"],[74,61,61,8],[74,63,61,9,"ActivityIndicator"],[74,80,61,26],[74,81,61,26,"default"],[74,88,61,26],[75,10,61,27,"size"],[75,14,61,31],[75,16,61,32],[75,23,61,39],[76,10,61,40,"color"],[76,15,61,45],[76,17,61,46],[77,8,61,55],[78,10,61,55,"fileName"],[78,18,61,55],[78,20,61,55,"_jsxFileName"],[78,32,61,55],[79,10,61,55,"lineNumber"],[79,20,61,55],[80,10,61,55,"columnNumber"],[80,22,61,55],[81,8,61,55],[81,15,61,57],[82,6,61,58],[83,8,61,58,"fileName"],[83,16,61,58],[83,18,61,58,"_jsxFileName"],[83,30,61,58],[84,8,61,58,"lineNumber"],[84,18,61,58],[85,8,61,58,"columnNumber"],[85,20,61,58],[86,6,61,58],[86,13,62,12],[86,14,62,13],[87,4,64,2],[88,4,66,2],[88,8,66,6],[88,9,66,7,"isValid"],[88,16,66,14],[88,18,66,16],[89,6,67,4],[89,13,67,11],[89,17,67,15],[90,4,68,2],[91,4,70,2],[91,24,70,9],[91,28,70,9,"_reactJsxDevRuntime"],[91,47,70,9],[91,48,70,9,"jsxDEV"],[91,54,70,9],[91,56,70,9,"_reactJsxDevRuntime"],[91,75,70,9],[91,76,70,9,"Fragment"],[91,84,70,9],[92,6,70,9,"children"],[92,14,70,9],[92,16,70,12,"children"],[93,4,70,20],[93,20,70,23],[93,21,70,24],[94,2,71,0],[95,2,73,0],[95,8,73,6,"styles"],[95,14,73,12],[95,17,73,15,"StyleSheet"],[95,27,73,25],[95,28,73,25,"default"],[95,35,73,25],[95,36,73,26,"create"],[95,42,73,32],[95,43,73,33],[96,4,74,2,"container"],[96,13,74,11],[96,15,74,13],[97,6,75,4,"flex"],[97,10,75,8],[97,12,75,10],[97,13,75,11],[98,6,76,4,"justifyContent"],[98,20,76,18],[98,22,76,20],[98,30,76,28],[99,6,77,4,"alignItems"],[99,16,77,14],[99,18,77,16],[99,26,77,24],[100,6,78,4,"backgroundColor"],[100,21,78,19],[100,23,78,21],[101,4,79,2],[102,2,80,0],[102,3,80,1],[102,4,80,2],[103,0,80,3],[103,3]],"functionMap":{"names":["<global>","AccountStatusGuard","useEffect$argument_0","checkAccountStatus"],"mappings":"AAA;eCY;YCI;GDE;6BEE;GFmC;CDe"},"hasCjsExports":false},"type":"js/module"}]}
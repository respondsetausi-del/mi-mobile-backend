(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{1138:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5531).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},2527:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5531).Z)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},3056:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5531).Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},3345:function(e,s,t){Promise.resolve().then(t.bind(t,551))},551:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(7437),l=t(2265),r=t(8674),n=t(2266),i=t(826),c=t(4280);let d=(0,t(5531).Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var o=t(1827),x=t(5750),u=t(3056),m=t(2527),g=t(1138);function y(){let[e,s]=(0,l.useState)([]),[t,y]=(0,l.useState)([]),[h,b]=(0,l.useState)(!0),[p,f]=(0,l.useState)(""),[v,j]=(0,l.useState)("all"),[N,w]=(0,l.useState)(null),[k,C]=(0,l.useState)(!1),[_,M]=(0,l.useState)(!1),[Z,z]=(0,l.useState)(!1),[S,A]=(0,l.useState)({email:"",name:"",company_name:"",max_users:50,max_licenses:100});(0,l.useEffect)(()=>{E()},[]),(0,l.useEffect)(()=>{D()},[e,p,v]);let E=async()=>{try{let e=await (0,i.R1)("/admin/mentors");s(e.mentors||[])}catch(e){console.error("Failed to load mentors:",e)}finally{b(!1)}},D=()=>{let s=[...e];if(p){let e=p.toLowerCase();s=s.filter(s=>{var t,a,l;return(null===(t=s.email)||void 0===t?void 0:t.toLowerCase().includes(e))||(null===(a=s.name)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(l=s.mentor_id)||void 0===l?void 0:l.toLowerCase().includes(e))})}"active"===v&&(s=s.filter(e=>"active"===e.status)),"inactive"===v&&(s=s.filter(e=>"active"!==e.status)),y(s)},F=async e=>{z(!0);try{await (0,i.sg)("/admin/mentors/".concat(e._id,"/activate"),{}),E()}catch(e){console.error("Failed to activate mentor:",e)}finally{z(!1)}},L=async e=>{z(!0);try{await (0,i.sg)("/admin/mentors/".concat(e._id,"/deactivate"),{}),E()}catch(e){console.error("Failed to deactivate mentor:",e)}finally{z(!1)}},q=async()=>{if(N){z(!0);try{await (0,i.QW)("/admin/mentors/".concat(N._id)),C(!1),w(null),E()}catch(e){console.error("Failed to delete mentor:",e)}finally{z(!1)}}},H=async()=>{z(!0);try{await (0,i.sg)("/admin/mentors",S),M(!1),A({email:"",name:"",company_name:"",max_users:50,max_licenses:100}),E()}catch(e){console.error("Failed to create mentor:",e)}finally{z(!1)}};return(0,a.jsxs)(r.Z,{role:"admin",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Mentors"}),(0,a.jsxs)("p",{className:"text-gray-500 mt-1",children:[e.length," total mentors"]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:E,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium text-gray-700 flex items-center gap-2",children:[(0,a.jsx)(c.Z,{size:18}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-xl font-medium text-white flex items-center gap-2",children:[(0,a.jsx)(d,{size:18}),"Add Mentor"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(o.Z,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by email, name, or mentor ID...",value:p,onChange:e=>f(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"px-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Mentors"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),h?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 animate-pulse",children:[(0,a.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-full mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-48"})]},s))}):0===t.length?(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-12 text-center",children:[(0,a.jsx)(x.Z,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No mentors found"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{var s,t;return(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-purple-600 font-bold text-lg",children:null===(t=e.name||e.email)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.name||"No name"}),(0,a.jsx)("p",{className:"text-sm text-purple-600 font-medium",children:e.mentor_id})]})]}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:e.status})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:e.email}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.user_count||0}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Users"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.max_users||50}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Max Users"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:["active"===e.status?(0,a.jsxs)("button",{onClick:()=>L(e),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl text-sm font-medium text-gray-700 flex items-center justify-center gap-2",children:[(0,a.jsx)(u.Z,{size:16}),"Deactivate"]}):(0,a.jsxs)("button",{onClick:()=>F(e),className:"flex-1 px-4 py-2 bg-green-100 hover:bg-green-200 rounded-xl text-sm font-medium text-green-700 flex items-center justify-center gap-2",children:[(0,a.jsx)(m.Z,{size:16}),"Activate"]}),(0,a.jsx)("button",{onClick:()=>{w(e),C(!0)},className:"px-4 py-2 bg-red-50 hover:bg-red-100 rounded-xl text-red-600",children:(0,a.jsx)(g.Z,{size:16})})]})]},e._id)})})]}),(0,a.jsx)(n.Z,{isOpen:k,onClose:()=>C(!1),title:"Delete Mentor",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete ",(0,a.jsx)("strong",{children:(null==N?void 0:N.name)||(null==N?void 0:N.email)}),"? This will also remove all their license keys and data."]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>C(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium",children:"Cancel"}),(0,a.jsx)("button",{onClick:q,disabled:Z,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 rounded-xl font-medium text-white disabled:opacity-50",children:Z?"Deleting...":"Delete"})]})]})}),(0,a.jsx)(n.Z,{isOpen:_,onClose:()=>M(!1),title:"Add New Mentor",size:"md",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,a.jsx)("input",{type:"email",value:S.email,onChange:e=>A({...S,email:e.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"mentor@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,a.jsx)("input",{type:"text",value:S.name,onChange:e=>A({...S,name:e.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Smith"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),(0,a.jsx)("input",{type:"text",value:S.company_name,onChange:e=>A({...S,company_name:e.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Trading Academy"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Users"}),(0,a.jsx)("input",{type:"number",value:S.max_users,onChange:e=>A({...S,max_users:parseInt(e.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Licenses"}),(0,a.jsx)("input",{type:"number",value:S.max_licenses,onChange:e=>A({...S,max_licenses:parseInt(e.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:()=>M(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium",children:"Cancel"}),(0,a.jsx)("button",{onClick:H,disabled:Z||!S.email||!S.name,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl font-medium text-white disabled:opacity-50",children:Z?"Creating...":"Create Mentor"})]})]})})]})}},2266:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(7437);let l=(0,t(5531).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var r=t(2265);function n(e){let{isOpen:s,onClose:t,title:n,children:i,size:c="md"}=e;return((0,r.useEffect)(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),s)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"}[c]," mx-4 max-h-[90vh] overflow-auto"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n}),(0,a.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(l,{size:20,className:"text-gray-500"})})]}),(0,a.jsx)("div",{className:"p-6",children:i})]})]}):null}}},function(e){e.O(0,[439,971,938,744],function(){return e(e.s=3345)}),_N_E=e.O()}]);
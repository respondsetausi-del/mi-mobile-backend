(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{8508:function(e,t,s){Promise.resolve().then(s.bind(s,1705))},1705:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(7437),r=s(2265),l=s(8674),i=s(826),a=s(4530),c=s(8063),o=s(3021);function d(){let[e,t]=(0,r.useState)({title:"",description:"",currency:"",impact:"medium",event_time:""}),[s,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),x=async s=>{if(s.preventDefault(),e.title){d(!0),m(null);try{let s=await (0,i.sg)("/admin/send-manual-news",{title:e.title,description:e.description||void 0,currency:e.currency||void 0,impact:e.impact||void 0,event_time:e.event_time||void 0});m({success:!0,message:"News sent to ".concat(s.recipient_count," users!")}),t({title:"",description:"",currency:"",impact:"medium",event_time:""})}catch(e){m({success:!1,message:"Failed to send news"})}finally{d(!1)}}};return(0,n.jsx)(l.Z,{role:"admin",children:(0,n.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Send News Event"}),(0,n.jsx)("p",{className:"text-gray-500 mt-1",children:"Broadcast news to all active users"})]}),(0,n.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:(0,n.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),(0,n.jsx)("input",{type:"text",value:e.title,onChange:s=>t({...e,title:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Fed Interest Rate Decision",required:!0})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,n.jsxs)("select",{value:e.currency,onChange:s=>t({...e,currency:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"",children:"Select currency"}),["USD","EUR","GBP","JPY","CHF","AUD","NZD","CAD"].map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),(0,n.jsx)("select",{value:e.impact,onChange:s=>t({...e,impact:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:["low","medium","high"].map(e=>(0,n.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Time"}),(0,n.jsx)("input",{type:"datetime-local",value:e.event_time,onChange:s=>t({...e,event_time:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,n.jsx)("textarea",{value:e.description,onChange:s=>t({...e,description:s.target.value}),rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Details about the news event..."})]}),u&&(0,n.jsxs)("div",{className:"p-4 rounded-xl flex items-center gap-3 ".concat(u.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[u.success?(0,n.jsx)(a.Z,{size:20}):(0,n.jsx)(c.Z,{size:20}),u.message]}),(0,n.jsxs)("button",{type:"submit",disabled:s||!e.title,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl font-medium text-white flex items-center justify-center gap-2 disabled:opacity-50",children:[(0,n.jsx)(o.Z,{size:18}),s?"Sending...":"Send News"]})]})})]})})}}},function(e){e.O(0,[677,971,938,744],function(){return e(e.s=8508)}),_N_E=e.O()}]);
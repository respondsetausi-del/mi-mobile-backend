(()=>{var e={};e.id=442,e.ids=[442],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4518:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=t(482),r=t(9108),l=t(2563),n=t.n(l),i=t(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["admin",{children:["mentors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,781)),"/app/mi-web/app/admin/mentors/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2917)),"/app/mi-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/app/mi-web/app/admin/mentors/page.tsx"],x="/admin/mentors/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/mentors/page",pathname:"/admin/mentors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9813:(e,s,t)=>{Promise.resolve().then(t.bind(t,9186))},9186:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(2295),r=t(3729),l=t(8480),n=t(9406),i=t(8117),o=t(3733);let d=(0,t(7075).Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=t(8765),x=t(9895),m=t(2817),u=t(5366),g=t(8271);function p(){let[e,s]=(0,r.useState)([]),[t,p]=(0,r.useState)([]),[y,h]=(0,r.useState)(!0),[b,f]=(0,r.useState)(""),[v,j]=(0,r.useState)("all"),[N,w]=(0,r.useState)(null),[k,_]=(0,r.useState)(!1),[C,M]=(0,r.useState)(!1),[Z,q]=(0,r.useState)(!1),[P,z]=(0,r.useState)({email:"",name:"",company_name:"",max_users:50,max_licenses:100});(0,r.useEffect)(()=>{S()},[]),(0,r.useEffect)(()=>{A()},[e,b,v]);let S=async()=>{try{let e=await (0,i.R1)("/admin/mentors");s(e.mentors||[])}catch(e){console.error("Failed to load mentors:",e)}finally{h(!1)}},A=()=>{let s=[...e];if(b){let e=b.toLowerCase();s=s.filter(s=>s.email?.toLowerCase().includes(e)||s.name?.toLowerCase().includes(e)||s.mentor_id?.toLowerCase().includes(e))}"active"===v&&(s=s.filter(e=>"active"===e.status)),"inactive"===v&&(s=s.filter(e=>"active"!==e.status)),p(s)},E=async e=>{q(!0);try{await (0,i.sg)(`/admin/mentors/${e._id}/activate`,{}),S()}catch(e){console.error("Failed to activate mentor:",e)}finally{q(!1)}},L=async e=>{q(!0);try{await (0,i.sg)(`/admin/mentors/${e._id}/deactivate`,{}),S()}catch(e){console.error("Failed to deactivate mentor:",e)}finally{q(!1)}},$=async()=>{if(N){q(!0);try{await (0,i.QW)(`/admin/mentors/${N._id}`),_(!1),w(null),S()}catch(e){console.error("Failed to delete mentor:",e)}finally{q(!1)}}},D=async()=>{q(!0);try{await (0,i.sg)("/admin/mentors",P),M(!1),z({email:"",name:"",company_name:"",max_users:50,max_licenses:100}),S()}catch(e){console.error("Failed to create mentor:",e)}finally{q(!1)}};return(0,a.jsxs)(l.Z,{role:"admin",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mentors"}),(0,a.jsxs)("p",{className:"text-gray-500 mt-1",children:[e.length," total mentors"]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:S,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(o.Z,{size:18}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-xl font-medium text-white flex items-center gap-2",children:[a.jsx(d,{size:18}),"Add Mentor"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(c.Z,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by email, name, or mentor ID...",value:b,onChange:e=>f(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"px-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Mentors"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),y?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 animate-pulse",children:[a.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-48"})]},s))}):0===t.length?(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-12 text-center",children:[a.jsx(x.Z,{size:48,className:"mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No mentors found"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-purple-600 font-bold text-lg",children:(e.name||e.email)?.[0]?.toUpperCase()})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:e.name||"No name"}),a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:e.mentor_id})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"active"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e.email}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.user_count||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Users"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.max_users||50}),a.jsx("p",{className:"text-xs text-gray-500",children:"Max Users"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:["active"===e.status?(0,a.jsxs)("button",{onClick:()=>L(e),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl text-sm font-medium text-gray-700 flex items-center justify-center gap-2",children:[a.jsx(m.Z,{size:16}),"Deactivate"]}):(0,a.jsxs)("button",{onClick:()=>E(e),className:"flex-1 px-4 py-2 bg-green-100 hover:bg-green-200 rounded-xl text-sm font-medium text-green-700 flex items-center justify-center gap-2",children:[a.jsx(u.Z,{size:16}),"Activate"]}),a.jsx("button",{onClick:()=>{w(e),_(!0)},className:"px-4 py-2 bg-red-50 hover:bg-red-100 rounded-xl text-red-600",children:a.jsx(g.Z,{size:16})})]})]},e._id))})]}),a.jsx(n.Z,{isOpen:k,onClose:()=>_(!1),title:"Delete Mentor",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete ",a.jsx("strong",{children:N?.name||N?.email}),"? This will also remove all their license keys and data."]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium",children:"Cancel"}),a.jsx("button",{onClick:$,disabled:Z,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 rounded-xl font-medium text-white disabled:opacity-50",children:Z?"Deleting...":"Delete"})]})]})}),a.jsx(n.Z,{isOpen:C,onClose:()=>M(!1),title:"Add New Mentor",size:"md",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),a.jsx("input",{type:"email",value:P.email,onChange:e=>z({...P,email:e.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"mentor@example.com"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:P.name,onChange:e=>z({...P,name:e.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Smith"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),a.jsx("input",{type:"text",value:P.company_name,onChange:e=>z({...P,company_name:e.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Trading Academy"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Users"}),a.jsx("input",{type:"number",value:P.max_users,onChange:e=>z({...P,max_users:parseInt(e.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Licenses"}),a.jsx("input",{type:"number",value:P.max_licenses,onChange:e=>z({...P,max_licenses:parseInt(e.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{onClick:()=>M(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium",children:"Cancel"}),a.jsx("button",{onClick:D,disabled:Z||!P.email||!P.name,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl font-medium text-white disabled:opacity-50",children:Z?"Creating...":"Create Mentor"})]})]})})]})}},9406:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(2295);let r=(0,t(7075).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var l=t(3729);function n({isOpen:e,onClose:s,title:t,children:n,size:i="md"}){return((0,l.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),(0,a.jsxs)("div",{className:`relative bg-white rounded-2xl shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"}[i]} mx-4 max-h-[90vh] overflow-auto`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(r,{size:20,className:"text-gray-500"})})]}),a.jsx("div",{className:"p-6",children:n})]})]}):null}},3733:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7075).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8765:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7075).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},8271:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7075).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},5366:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7075).Z)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},2817:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7075).Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},781:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,t(6843).createProxy)(String.raw`/app/mi-web/app/admin/mentors/page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[73,336],()=>t(4518));module.exports=a})();
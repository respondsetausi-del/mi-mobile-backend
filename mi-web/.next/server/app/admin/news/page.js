(()=>{var e={};e.id=229,e.ids=[229],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7598:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o});var r=s(482),n=s(9108),i=s(2563),a=s.n(i),l=s(8300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["admin",{children:["news",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4770)),"/app/mi-web/app/admin/news/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/app/mi-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/app/mi-web/app/admin/news/page.tsx"],u="/admin/news/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/news/page",pathname:"/admin/news",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4952:(e,t,s)=>{Promise.resolve().then(s.bind(s,2515))},2515:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(2295),n=s(3729),i=s(8480),a=s(8117),l=s(6262),c=s(5269),o=s(3037);function d(){let[e,t]=(0,n.useState)({title:"",description:"",currency:"",impact:"medium",event_time:""}),[s,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),m=async s=>{if(s.preventDefault(),e.title){d(!0),p(null);try{let s=await (0,a.sg)("/admin/send-manual-news",{title:e.title,description:e.description||void 0,currency:e.currency||void 0,impact:e.impact||void 0,event_time:e.event_time||void 0});p({success:!0,message:`News sent to ${s.recipient_count} users!`}),t({title:"",description:"",currency:"",impact:"medium",event_time:""})}catch(e){p({success:!1,message:"Failed to send news"})}finally{d(!1)}}};return r.jsx(i.Z,{role:"admin",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Send News Event"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Broadcast news to all active users"})]}),r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:(0,r.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),r.jsx("input",{type:"text",value:e.title,onChange:s=>t({...e,title:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Fed Interest Rate Decision",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,r.jsxs)("select",{value:e.currency,onChange:s=>t({...e,currency:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select currency"}),["USD","EUR","GBP","JPY","CHF","AUD","NZD","CAD"].map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),r.jsx("select",{value:e.impact,onChange:s=>t({...e,impact:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:["low","medium","high"].map(e=>r.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Time"}),r.jsx("input",{type:"datetime-local",value:e.event_time,onChange:s=>t({...e,event_time:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:e.description,onChange:s=>t({...e,description:s.target.value}),rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Details about the news event..."})]}),u&&(0,r.jsxs)("div",{className:`p-4 rounded-xl flex items-center gap-3 ${u.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[u.success?r.jsx(l.Z,{size:20}):r.jsx(c.Z,{size:20}),u.message]}),(0,r.jsxs)("button",{type:"submit",disabled:s||!e.title,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl font-medium text-white flex items-center justify-center gap-2 disabled:opacity-50",children:[r.jsx(o.Z,{size:18}),s?"Sending...":"Send News"]})]})})]})})}},5269:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6262:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4770:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>a});let r=(0,s(6843).createProxy)(String.raw`/app/mi-web/app/admin/news/page.tsx`),{__esModule:n,$$typeof:i}=r,a=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[73,336],()=>s(7598));module.exports=r})();